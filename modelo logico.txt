insumo(
integer id (PK)
char(2) unidade_medicao CHECK IN (cm, mm, l, ml, kg, g....)
varchar(100) descricao
)

investidor(                // mais atributos ?
integer id (PK)
varchar(45) nome
varchar(70) empresa
varchar(40) email
varchar(11) telefone
)

socio(
integer id (FK - investidor)          // mais atributos necessários
varchar(40) username
varchar(40) senha
)

investimento(
integer id (PK)
real valor
date dia_do_investimento
integer investidor (FK - investidor)
)

fornecedor(
integer id (PK)
varchar nome
varchar email
char(2)	uf
varchar cidade
)

compra(                           // ligar compra à investimento?
integer id (PK)
integer id_insumo (FK - insumo)
integer quantidade
integer id_fornecedor (FK - fornecedor)
varchar(35) marca
real valor_total
date dia_da_compra
)

receita(
integer id (PK)
real graduacao_esperada
bool reidratacao_fermento
real ph_agua_desejado
integer id_autor (FK - investidor)      // só investidores podem sugerir receitas??
)

insumo_receita(
integer quantidade_usada_insumo
integer id_insumo (FK - insumo)
integer id_receita (FK - receita)
PK (id_insumo, id_receita)
)

local(
integer id (PK)
varchar cidade
varchar(100) endereco
varchar descricao CHECK IN ('laboratorio', 'casa', 'deposito', 'outro')
integer dono (FK - socio)
)

medicao(
integer id (PK)
integer temperatura
real ph
real densidade
date dia_realizada
)

sanitizacao(
integer id (PK)
date data
integer quimico_utilizado (PK - insumo)		//melhorar esse relacionamento
float quantidade_quimico_utilizado
integer objeto_sanitizado (FK - garrafa/fermentador)
)

inoculacao(
integer id
integer id_receita (FK - receita)
integer local_de_realizacao (FK - local)
integer medicao                                  // obrigatorio(sim é obrigatorio)? se sim deve fazer parte da PK (não acho que deve fazer parte da PK)
date dia_inoculacao
char(6) tipo CHECK IN (aberta, selada)
PK (id) //obs: pk composta é a pior merda que vc pode fazer num banco!
)

responsavel_inoculacao(
integer id
integer id_socio (FK - socio)
integer id_inoculacao
PK(id)
FK(id_inoculacao)
)

//são usadas ferramentas na inoculação; ferramentas também são sanitizadas.

ferramentas_inoculacao(
integer id_ferramenta (FK - insumo)              // fk ferramenta se houver herança
integer id_inoculacao
integer id_receita
integer local_de_realizacao
PK(id_socio, id_inoculacao, id_receita, local_de_realizacao)
FK(id_ferramenta, id_receita, local_de_realizacao - inoculacao)
)

// ligar inoculação à fermentacao?

fermentacao(
integer id (PK)
date dia_finalizada
)

// verificar na transferencia se "de" == "para" da anterior??

transferencia_recipiente_fermentacao(
integer id
integer id_fermentacao (FK - fermentacao)
integer para (FK - id_recipiente)                   // trocar se houver herança para recipiente
date dia_realizada
bool com_filtragem                           // filtragem merece ser entidade?
PK(id, id_fermentacao, id_recipiente)
)

medicao_fermentacao(
integer id_medicao (FK - medicao)
integer id_fermentacao (FK - fermentacao)
date data_realizada
)

lote(
integer id
integer id_fermentacao (FK - fermentacao)
real volume_produzido
varchar(9) destino CHECK IN (marketing, vendas, P&D)   // necessário herança?
PK(id, id_fermentacao)
)

garrafa(
integer id (PK)
integer volume
varchar(8) material CHECK IN (vidro, plástico)
varchar(8) tampa CHECK IN (metal, rolha, plástico)
bool primming                                         // possui atributos a serem detalhados?
bool sanitizacao      // possui atributos a serem detalhados? (ver sanitização no processo de inoculação)
)

lote_engarrafado(
integer id (FK - lote)
integer id_fermentacao (FK - lote)
integer tempo_maturacao
integer id_engarrafamento (FK - engarrafamento)
integer id_garrafa (FK - garrafa)                    // necessário criar engarrafamento?
PK(id, id_fermentacao - lote)
)

estoque(
integer id_lote (FK - lote_engarrafado)
integer volume_disponivel
)

venda(
integer id_lote (FK - lote_engarrafado)
integer valor_total
)

Q: Como fazer 1 ou mais medições na fermentação, possibilitando a medicao também na inoculação?
A:

Q: todo o lote será utilizado para uma mesma finalidade? se sim, colocar finalidade no lote? se não, colocar finalidade no engarrafamento? colocar finalidade na saida?
A: Como eu expliquei antes, partes de um mesmo lote terão finalidades diferentes. A definição da finalidade do hidromel se dá de garrafa em garrafa. Então eu colocaria a finalidade no engarrafamento, dado um registro de engarrafamento para cada volume especificado de hidromel engarrafado.

Q: engarrafamento depende da finalidade? todo volume do lote para uma finalidade será engarrafado igualmente?
A: O volume de uma finalidade pode ser engarrafado em diferentes garrafas de volumes diferentes.

Q: verificar integers/reais
A: Dúvida sobre os tipos de dados? Isso será definido se todos concordarem em utilizar MySQL.

Q: acho que o controle do estoque é desnecessário do jeito que está, basta saber o quanto foi vendido registrando na tabela de vendas e linkando com o lote do qual as garrafas foram utilizadas na venda
A: O principal objetivo do controle de estoque é prover duas informações importantes:
	1. Há insumos necessários para produção de mais um novo lote de hidromel?
	2. Quantas garrafas do produto ainda estão disponíveis? (p/ venda, marketing...) -> planejamento